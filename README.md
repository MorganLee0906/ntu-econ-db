NTU Econ Database
---
# 目錄結構
```
.DS_Store
.gitignore
.next/
Admin/
components/
curriculums/
folders/
lib/
next.config.js
package.json
pages/
posts/
public/
README.md
src/
styles/
Upload/
```
---
# 安裝與設定
1. 安裝 Node.js（版本 >= 18）
2. 安裝專案依賴：
```
npm install
```
---
# 主要功能與模組
## 生成課程資料
`genFolder.py` 中的 `genFolder` 函數負責生成課程資料：
```python
def genFolder(folderName, folderId):
    global fcnt
    m = open(f"../curriculums/{folderName[:2]}.md", "w")
    m.write("---\n")
    m.write(f"title: {folderName[2:]}\n")
    m.write(f"fcnt: {fcnt}\n")
    m.write(f"url: {folderName[:2]}\n")
    m.write(f"fid: {folderId}\n")
    m.write("---\n")
    m.write(f"更新日期：{datetime.date.today()}\n")
    m.close()
```
## 讀取與顯示文章
`post.js` 中的 `getPostData` 函數負責讀取文章資料並轉換為 HTML：
```javascript
export async function getPostData(id) {
    const fullPath = path.join(postsDirectory, `${id}.md`);
    const fileContents = fs.readFileSync(fullPath, 'utf8');
    const matterResult = matter(fileContents);
    const processedContent = await remark().use(html).process(matterResult.content);
    const contentHtml = processedContent.toString();
    return {
        id,
        contentHtml,
        ...matterResult.data,
    };
}
```
## 顯示課程資料
`[fid].js` 中的 `Folder` 函數負責顯示課程資料：
```javascript
export default function Folder({ folderData }) {
    const childFolders = folderData["folder"].sort((a, b) => a.name.localeCompare(b.name));
    const files = folderData["file"].sort((a, b) => a.name.localeCompare(b.name));
    const router = useRouter();
    const { cid, fid } = router.query;
    return (
        <div>
            <Layout>
                <div class="container">
                    <center>
                        <h2>課程資料</h2>
                    </center>
                </div>
                <div class="container">
                    <h6>現在位置：
                        {folderData["route"].split('/').map((c) => (
                            <span class="badge bg-primary me-2 align-items-center">{c}</span>
                        ))}
                    </h6>
                </div>
                <div class="container">
                    <ul class="list-group list-group-flush">
                        <div className="list-group">
                            {childFolders.map((folder) => {
                                /*...*/
                            })}
                        </div>
                    </ul>
                </div>
            </Layout>
        </div>
    );
}
```
## 測試與輸出
1. 啟動開發伺服器：
```
npm run dev
```
2. 輸出靜態網頁檔案：
```
npm run build
```

> Note: This is the first version of manual generated by Copilot.


